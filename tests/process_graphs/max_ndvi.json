{
  "load_collection": {
    "arguments": {
      "id": "S2L1C",
      "spatial_extent": {
        "west": {
          "variable_id": "spatial_extent_west"
        },
        "east": {
          "variable_id": "spatial_extent_east"
        },
        "north": {
          "variable_id": "spatial_extent_north"
        },
        "south": {
          "variable_id": "spatial_extent_south"
        }
      },
      "temporal_extent": [
        "2018-01-01",
        "2018-02-01"
      ],
      "bands": ["B01", "B02"]
    },
    "process_id": "load_collection"
  },
  "b1": {
    "arguments": {
      "data": {
        "from_node": "load_collection"
      },
      "bands": [
        "B4"
      ]
    },
    "process_id": "filter_bands"
  },
  "b2": {
    "arguments": {
      "data": {
        "from_node": "load_collection"
      },
      "bands": [
        "B8"
      ]
    },
    "process_id": "filter_bands"
  },
  "normalized_difference": {
    "arguments": {
      "band1": {
        "from_node": "b1"
      },
      "band2": {
        "from_node": "b2"
      }
    },
    "process_id": "normalized_difference"
  },
  "reduce": {
    "arguments": {
      "data": {
        "from_node": "normalized_difference"
      },
      "dimension": "t",
      "reducer": {
        "process_graph": {
          "max": {
            "arguments": {
              "data": {
                "from_parameter": "data"
              }
            },
            "process_id": "max",
            "result": true
          }
        }
      }
    },
    "process_id": "reduce_dimension"
  },
  "result1": {
      "process_id": "save_result",
      "arguments": {
        "data": {
          "from_node": "reduce"
        },
        "format": "gtiff",
        "options": {
          "datatype": "float32"
        }
      },
      "result": true
    }
}